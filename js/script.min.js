!function(){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),o=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],n=0;n<o;){var a=t[n];if(e.call(r,a,n,t))return a;n++}},configurable:!0,writable:!0});var e=document.querySelector(".main-contacts__button"),t=document.querySelector(".modal-write-us"),o=t.querySelector(".modal-close"),r=t.querySelector("p:first-child input"),n=t.querySelector("form"),a=t.querySelector("[name=email]"),l=!0,i="";try{i=localStorage.getItem("login")}catch(e){l=!1}e.addEventListener("click",function(e){e.preventDefault(),t.classList.add("modal-show"),i?(r.value=i,a.focus()):r.focus()}),o.addEventListener("click",function(e){e.preventDefault(),t.classList.remove("modal-show"),t.classList.remove("modal-error")}),n.addEventListener("submit",function(e){e.preventDefault(),r.value&&a.value?l&&localStorage.setItem("p:first-child input",r.value):(e.preventDefault(),t.classList.remove("modal-error"),t.offsetWidth=t.offsetWidth,t.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&t.classList.contains("modal-show")&&(t.classList.remove("modal-show"),t.classList.remove("modal-error"))});var c=document.querySelector(".main-contacts__map"),s=document.querySelector(".modal-map"),d=s.querySelector(".modal-close");c.addEventListener("click",function(e){e.preventDefault(),s.classList.add("modal-show")}),d.addEventListener("click",function(e){e.preventDefault(),s.classList.remove("modal-show")});var u=function(e,t){e.forEach(function(e){e.classList.remove(t)})},f=function(e,t,o){var r=Array.prototype.slice.call(document.querySelectorAll("[data-"+e+"-control]")),n=Array.prototype.slice.call(document.querySelectorAll("[data-"+e+"-content]"));r.forEach(function(a){a.addEventListener("click",function(l){l.preventDefault(),u(n,o),u(r,t),a.classList.add(t);var i=n.find(function(t){return t.dataset[e+"Content"]===a.dataset[e+"Control"]});i&&i.classList.add(o)})})};f("slider","slide__change-button_active","slide-wrapper_visible"),f("options","service-option__button_active","service-option_visible"),window.addEventListener("keydown",function(e){27===e.keyCode&&s.classList.contains("modal-show")&&s.classList.remove("modal-show")})}();